<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>SHUD</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="icon" href="/favicon.ico" type="image/png" />

    <style>
      .panel-cs2 {
        background: rgba(20, 20, 20, 0.85);
        backdrop-filter: blur(8px);
        border-radius: 12px;
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      .button-cs2 {
        background: linear-gradient(90deg, #ffd600 0%, #ffea00 100%);
        color: #222;
        font-weight: bold;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        transition: box-shadow 0.2s, background 0.2s;
      }
      .button-cs2:hover {
        box-shadow: 0 4px 16px #ffd60088;
        background: linear-gradient(90deg, #ffea00 0%, #ffd600 100%);
      }
      #maps-save-btn {
        display: none !important;
      }
      .file-name-note {
        margin-top: 6px;
        font-size: 12px;
        color: #ddd;
        word-break: break-all;
      }
    </style>

    <script>
      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—É—Ç–µ–π –∫ –∞–≤–∞—Ç–∞—Ä–∫–∞–º
      function fixAvatarPaths() {
        // –ò—â–µ–º –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∞–≤–∞—Ç–∞—Ä–∫–∞–º–∏ –∏–≥—Ä–æ–∫–æ–≤
        const avatarImages = document.querySelectorAll(
          ".player-avatar img, .avatar-image"
        );

        avatarImages.forEach((img) => {
          if (
            img.src &&
            !img.src.includes("/uploads/") &&
            !img.src.includes("default-avatar.png")
          ) {
            // –ü–æ–ª—É—á–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞ –∏–∑ –ø—É—Ç–∏
            const filename = img.src.split("/").pop();

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –ø—É—Ç—å —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º /uploads/
            img.src = `/uploads/${filename}`;
            console.log("Fixed avatar path:", img.src);
          }
        });
      }

      // –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      document.addEventListener("DOMContentLoaded", function () {
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        fixAvatarPaths();

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        setTimeout(fixAvatarPaths, 1000);

        // –ó–∞–ø—É—Å–∫–∞–µ–º –µ—â–µ —Ä–∞–∑ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
        setTimeout(fixAvatarPaths, 3000);
      });
    </script>
  </head>
  <body>
    <div class="app-container">
      <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
      <nav class="sidebar">
        <div class="sidebar">
          <div class="logo">
            <img src="/images/logo.png" alt="SHUD Manager" />
            <h1 data-i18n="appTitle">SHUD Manager</h1>
            <span
              class="region-flag app-flag"
              onclick="changeLanguage('ru')"
              title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫"
              >üá∑üá∫</span
            >
          </div>
          <ul class="nav-menu">
            <li class="nav-item">
              <button class="nav-button" data-section="match-section">
                <i class="fas fa-gamepad"></i>
                <span data-i18n="navCreateMatch">–°–æ–∑–¥–∞—Ç—å –ú–∞—Ç—á</span>
              </button>
            </li>
            <li class="nav-item">
              <button class="nav-button" data-section="teams-section">
                <i class="fas fa-users"></i>
                <span data-i18n="navCreateTeam">–°–æ–∑–¥–∞—Ç—å –ö–æ–º–∞–Ω–¥—É</span>
              </button>
            </li>
            <li class="nav-item">
              <button class="nav-button" data-section="players-section">
                <i class="fas fa-user"></i>
                <span data-i18n="navCreatePlayer">–°–æ–∑–¥–∞—Ç—å –ò–≥—Ä–æ–∫–∞</span>
              </button>
            </li>
            <li class="nav-item">
              <button class="nav-button" data-section="scoreboard-section">
                <i class="fas fa-table"></i>
                <span data-i18n="navScoreboard">–°–∫–æ—Ä–±–æ—Ä–¥</span>
              </button>
            </li>
            <li class="nav-item">
              <button class="nav-button" data-section="huds-section">
                <i class="fas fa-desktop"></i>
                <span data-i18n="navHuds">HUD'—ã</span>
              </button>
            </li>
            <li class="nav-item">
              <button class="nav-button active" data-section="cs2-section">
                <i class="fas fa-gamepad"></i>
                <span data-i18n="navCS2Integration">CFG –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</span>
              </button>
            </li>
            <li class="nav-item">
              <button class="nav-button active" data-section="cameras-section">
                <i class="fas fa-camera"></i>
                <span data-i18n="navCS2Cameras">–ö–∞–º–µ—Ä—ã BETA</span>
              </button>
            </li>
            <li class="nav-item">
              <button class="nav-button" data-section="hide-players-section">
                <i class="fas fa-user-slash"></i>
                <span>–°–∫—Ä—ã—Ç–∏–µ –¢—Ä–µ–Ω–µ—Ä–∞</span>
              </button>
            </li>
          </ul>
        </div>
        <div class="language-selector-container">
          <div>
            <label for="language-selector" data-i18n="languageSelector"
              >language:</label
            >
          </div>
          <select id="language-selector" class="form-control">
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            <option value="en">English</option>
            <option value="zh">‰∏≠Êñá</option>
          </select>
        </div>
      </nav>

      <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
      <main class="main-content">
        <!-- –§–æ—Ä–º–∞ –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –∏–≥—Ä–æ–∫–æ–≤ –ø–æ Steam64 ID -->
        <section id="hide-players-section" class="content-section panel-cs2">
          <h3>–°–∫—Ä—ã—Ç—å –¢—Ä–µ–Ω–µ—Ä–∞ –ø–æ Steam64 ID</h3>
          <form id="hidePlayersForm">
            <div class="form-group">
              <label for="steamid1">Steam64 ID 1:</label>
              <input
                type="text"
                id="steamid1"
                name="steamid1"
                maxlength="20"
                style="width: 100%"
                placeholder="7656..."
              />
            </div>
            <div class="form-group">
              <label for="steamid2">Steam64 ID 2:</label>
              <input
                type="text"
                id="steamid2"
                name="steamid2"
                maxlength="20"
                style="width: 100%"
                placeholder="7656..."
              />
            </div>
          </form>
          <button
            id="sendHidePlayersToHUD"
            class="button-cs2"
            style="margin-top: 10px; width: 100%"
          >
            –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∫—Ä—ã—Ç–∏–µ –¢—Ä–µ–Ω–µ—Ä–∞ –≤ HUD
          </button>
        </section>

        <script>
          // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
          document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("steamid1").value =
              localStorage.getItem("hiddenSteamId1") || "";
            document.getElementById("steamid2").value =
              localStorage.getItem("hiddenSteamId2") || "";

            // –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∫—Ä—ã—Ç–∏—è –∏–≥—Ä–æ–∫–æ–≤ –≤ HUD
            const sendBtn = document.getElementById("sendHidePlayersToHUD");
            if (sendBtn) {
              sendBtn.addEventListener("click", function () {
                const steamid1 = document
                  .getElementById("steamid1")
                  .value.trim();
                const steamid2 = document
                  .getElementById("steamid2")
                  .value.trim();

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –≤ localStorage
                localStorage.setItem("hiddenSteamId1", steamid1);
                localStorage.setItem("hiddenSteamId2", steamid2);

                if (
                  window.gsiManager &&
                  typeof window.gsiManager.sendToHUD === "function"
                ) {
                  window.gsiManager.sendToHUD({
                    type: "hide_players",
                    steamids: [steamid1, steamid2],
                  });
                  alert("–°–∫—Ä—ã—Ç–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ HUD!");
                } else {
                  alert("–û—à–∏–±–∫–∞: GSIManager –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω!");
                }
              });
            }
          });
        </script>
        <!-- –ö–æ–Ω–µ—Ü —Ñ–æ—Ä–º—ã -->
        <!-- –°–µ–∫—Ü–∏—è –º–∞—Ç—á–∞ -->
        <section id="match-section" class="content-section active">
          <h2 data-i18n="matchSection">–°–æ–∑–¥–∞—Ç—å –ú–∞—Ç—á</h2>
          <div class="match-creator">
            <form id="createMatchForm">
              <div class="form-group">
                <label for="team1Select" data-i18n="team1">–ö–æ–º–∞–Ω–¥–∞ 1</label>
                <select id="team1Select" required>
                  <option value="" data-i18n="selectTeam">
                    –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É 1
                  </option>
                </select>
              </div>

              <div class="form-group">
                <label for="team2Select" data-i18n="team2">–ö–æ–º–∞–Ω–¥–∞ 2</label>
                <select id="team2Select" required>
                  <option value="" data-i18n="selectTeam">
                    –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É 2
                  </option>
                </select>
              </div>

              <button type="submit" class="save-btn" data-i18n="createMatch">
                –°–æ–∑–¥–∞—Ç—å –º–∞—Ç—á
              </button>
            </form>
          </div>
          <!-- –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –º–∞—Ç—á–µ–π -->
          <div class="matches-list">
            <h3 data-i18n="currentMatches">–¢–µ–∫—É—â–∏–µ –º–∞—Ç—á–∏</h3>

            <div class="matches-container" id="matches-list">
              <!-- –ú–∞—Ç—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JavaScript -->
            </div>
          </div>
          <div id="editMatchModal" class="modal">
            <div class="modal-content">
              <span data-i18n="editMatch">–†–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Ç—á–∞</span>
              <form id="editMatchForm">
                <div class="team-container-edit">
                  <div class="form-group">
                    <label id="editTeam1Label" for="editTeam1" data-i18n="team1"
                      >–ö–æ–º–∞–Ω–¥–∞ 1:</label
                    >
                    <select name="team1" id="editTeam1" required>
                      <option value="" data-i18n="selectTeam">
                        –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É
                      </option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label id="editTeam2Label" for="editTeam2" data-i18n="team2"
                      >–ö–æ–º–∞–Ω–¥–∞ 2:</label
                    >
                    <select name="team2" id="editTeam2" required>
                      <option value="" data-i18n="selectTeam">
                        –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É
                      </option>
                    </select>
                  </div>
                  <button type="button" id="editSwapTeamsBtn">
                    <i class="fas fa-exchange-alt"></i>
                  </button>
                </div>
                <div class="team-container-edit2">
                  <div class="form-group">
                    <label
                      id="editFormatLabel"
                      for="editFormat"
                      data-i18n="format"
                      >–§–æ—Ä–º–∞—Ç:</label
                    >
                    <select name="format" id="editFormat" required>
                      <option value="bo1">BO1</option>
                      <option value="bo2">BO2</option>
                      <option value="bo3">BO3</option>
                      <option value="bo5">BO5</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="editMatchTime">–í—Ä–µ–º—è –º–∞—Ç—á–∞</label>
                    <input type="text" id="editMatchTime" name="matchTime" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 18:00 –∏–ª–∏ 2024-08-05 18:00">
                  </div>
                </div>
                <div id="maps-save-btn" class="maps-save-btn">
                  <button data-i18n="save" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
              </form>
            </div>
          </div>
        </section>
        <!-- –°–µ–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥ -->
        <!-- –í —Å–µ–∫—Ü–∏–∏ teams-section -->

        <div id="teams-section" class="content-section">
          <h2 data-i18n="teamManagement">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏</h2>
          <div class="form-container">
            <form id="team-form" enctype="multipart/form-data">
              <input
                data-i18n="teamName"
                type="text"
                name="name"
                placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã"
                required
              />
              <input
                data-i18n="teamShortName"
                type="text"
                name="short_name"
                placeholder="–ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã"
                maxlength="10"
              />
              <div class="team-region-with-flag">
                <span class="region-flag">
                  <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–ª–∞–≥ -->
                </span>
                <select id="team-region" name="region" class="region-select">
                  <option value="" data-i18n="selectRegion">
                    –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω
                  </option>
                  <option value="russia" data-flag="üá∑üá∫">üá∑üá∫ –†–æ—Å—Å–∏—è</option>
                  <option value="belarus" data-flag="üáßüáæ">üáßüáæ –ë–µ–ª–∞—Ä—É—Å—å</option>
                  <option value="kazakhstan" data-flag="üá∞üáø">
                    üá∞üáø –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω
                  </option>
                  <option value="europe" data-flag="üá™üá∫">üá™üá∫ –ï–≤—Ä–æ–ø–∞</option>
                  <option value="usa" data-flag="üá∫üá∏">üá∫üá∏ –°–®–ê</option>
                  <option value="canada" data-flag="üá®üá¶">üá®üá¶ –ö–∞–Ω–∞–¥–∞</option>
                  <option value="china" data-flag="üá®üá≥">üá®üá≥ –ö–∏—Ç–∞–π</option>
                  <option value="brazil" data-flag="üáßüá∑">üáßüá∑ –ë—Ä–∞–∑–∏–ª–∏—è</option>
                  <option value="ukraine" data-flag="üá∫üá¶">üá∫üá¶ –£–∫—Ä–∞–∏–Ω–∞</option>
                  <option value="other" data-flag="üåé">üåé –î—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω</option>
                </select>
              </div>
              <div class="file-input-container" id="logo-input-container">
                <input
                  id="team-logo"
                  type="file"
                  name="logo"
                  accept="image/*"
                />
                <label
                  id="team-logo-label"
                  for="team-logo"
                  data-i18n="uploadTeamLogo"
                  >–ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø</label
                >
                <div id="team-logo-filename" class="file-name-note"></div>
              </div>
              <button data-i18n="addTeam" type="submit" id="add-team-btn">
                –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
              </button>
            </form>
          </div>
          <div class="section-header"></div>
          <div class="teams-container" id="teams-list">
            <!-- –ö–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </div>
        </div>
        <!-- –°–µ–∫—Ü–∏—è –∏–≥—Ä–æ–∫–æ–≤ -->
        <section id="players-section" class="content-section">
          <h2 data-i18n="playerManagement">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞–º–∏</h2>
          <form id="player-form">
            <input
              data-i18n="playerNickname"
              type="text"
              name="nickname"
              placeholder="–ù–∏–∫–Ω–µ–π–º"
              required
            />
            <input
              data-i18n="playerRealName"
              type="text"
              name="realName"
              placeholder="–†–µ–∞–ª—å–Ω–æ–µ –∏–º—è"
            />
            <input
              data-i18n="playerSteam64"
              type="text"
              name="steam64"
              placeholder="Steam64 ID"
              required
            />
            <select name="teamId">
              <option value="" data-i18n="selectTeam">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É</option>
            </select>
            <div class="file-input-container" id="avatar-input-container">
              <input
                id="player-avatar"
                type="file"
                name="avatar"
                accept="image/*"
              />
              <label
                id="player-avatar-label"
                for="player-avatar"
                data-i18n="selectPlayerAvatar"
                >–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</label
              >
              <div id="player-avatar-filename" class="file-name-note"></div>
            </div>
            <button data-i18n="addPlayer" type="submit" id="add-player-btn">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
          </form>

          <div id="players-list" class="players-container"></div>
        </section>

        <!-- –í index.html, —Å–µ–∫—Ü–∏—è —Å–∫–æ—Ä–±–æ—Ä–¥–∞ -->
        <section id="scoreboard-section" class="content-section">
          <h2 data-i18n="scoreboardSection">–°–∫–æ—Ä–±–æ—Ä–¥</h2>
          <div class="scoreboard">
            <div class="team-scores"></div>
            <div class="player-stats-table">
              <!-- –¢–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
          </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è HUD'–æ–≤ -->
        <section id="huds-section" class="content-section">
          <h2 data-i18n="hudsSection">–î–æ—Å—Ç—É–ø–Ω—ã–µ HUD'—ã</h2>
          <div id="huds-list" class="huds-grid"></div>
        </section>
        <section id="cs2-section" class="content-section">
          <div class="container mt-5">
            <div class="row">
              <div class="col-md-12">
                <div class="card-cfg">
                  <div class="card-header bg-primary text-white">
                    <h5
                      id="cs2-integration-title"
                      class="mb-0"
                      data-i18n="cs2Integration"
                    >
                      CFG –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
                    </h5>
                  </div>
                  <div class="card-body">
                    <div class="row mb-4">
                      <div class="col-md-12">
                        <h6
                          id="cs2-configs-status"
                          data-i18n="cs2ConfigsStatus"
                        >
                          –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ñ–∏–≥–æ–≤
                        </h6>
                        <p>
                          <span
                            id="cs2-config-path-label"
                            data-i18n="cs2ConfigPath"
                            >–ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥–∞–º:</span
                          >
                          <span id="cs2-path"
                            >E:\SteamLibrary\steamapps\common\Counter-Strike
                            Global Offensive\game\csgo\cfg</span
                          >
                        </p>
                        <p id="cs2-gsi-status" data-i18n="cs2GsiInstalled">
                          ? GSI –∫–æ–Ω—Ñ–∏–≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
                        </p>
                        <p
                          id="cs2-observer-status"
                          data-i18n="cs2ObserverInstalled"
                        >
                          ‚úì Observer –∫–æ–Ω—Ñ–∏–≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
                        </p>
                        <p
                          id="cs2-observer2-status"
                          data-i18n="cs2Observer2NotInstalled"
                        >
                          ‚úó Observer_map_cs2_on –∫–æ–Ω—Ñ–∏–≥ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
                        </p>
                        <p
                          id="cs2-observer_off-status"
                          data-i18n="cs2Observer_offInstalled"
                        >
                          ‚úì Observer_off –∫–æ–Ω—Ñ–∏–≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
                        </p>
                        <p id="cs2-observer_hlae_kill-status">
                          ? –°—Ç–∞—Ç—É—Å observer_HLAE_kill.cfg –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
                        </p>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-md-8">
                        <input
                          type="text"
                          id="cs2-custom-path"
                          class="form-control"
                          placeholder="–ü—É—Ç—å –∫ CS2 (–±–µ–∑ game/csgo/cfg)"
                        />
                      </div>
                      <div class="col-md-4">
                        <button
                          id="check-cs2-path"
                          class="btn btn-secondary"
                          data-i18n="cs2CheckPath"
                        >
                          –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å
                        </button>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <button
                          id="install-cs2-configs"
                          class="btn btn-primary btn-block"
                          data-i18n="cs2InstallConfigs"
                        >
                          –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ CS2
                        </button>
                      </div>
                      <div class="col-md-6">
                        <button
                          id="remove-cs2-configs"
                          class="btn btn-danger btn-block"
                          data-i18n="cs2RemoveConfigs"
                        >
                          –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ CS2
                        </button>
                      </div>
                    </div>
                    <div class="row" style="margin-top:12px;">
                      <div class="col-md-12">
                        <button id="launch-cs2-observer" class="btn btn-success btn-block">
                          –ó–∞–ø—É—Å—Ç–∏—Ç—å CS2 —Å exec observer
                        </button>
                        <button id="launch-hlae" class="btn btn-warning btn-block" style="margin-top:8px;">
                          –ó–∞–ø—É—Å—Ç–∏—Ç—å HLAE + CS2 —Å exec observer_HLAE_kill
                        </button>
                        <!-- –ö–Ω–æ–ø–∫–∞ —Å–∫—Ä—ã—Ç–∞ -->
                        <!--                         <button id="launch-cs2-hlae-insecure" class="btn btn-info btn-block" style="margin-top:8px; display: none;">
                          –ó–∞–ø—É—Å—Ç–∏—Ç—å CS2 HLAE —Å -insecure
                        </button> -->

                      </div>
                    </div>

                    <!-- Dota 2 CFG –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è -->
                    <div class="row" style="margin-top:20px;">
                      <div class="col-md-12">
                        <h6>Dota 2 CFG –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h6>
                        <div id="dota2-cfg-status" class="alert alert-info" style="display: none;">
                          <strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="dota2-cfg-status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                        </div>
                        <div id="dota2-cfg-details" style="display: none;">
                          <p id="dota2-cfg-file-status">
                            ? gamestate_integration_fhud_dota2.cfg —Å—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
                          </p>
                        </div>
                        <div class="btn-group" role="group" style="margin-bottom: 10px;">
                          <button id="check-dota2-cfg" class="btn btn-info">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É</button>
                          <button id="install-dota2-cfg" class="btn btn-success">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CFG</button>
                          <button id="remove-dota2-cfg" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å CFG</button>
                        </div>
                        <div id="dota2-cfg-info" style="margin-top:10px; display: none;">
                          <small class="text-muted">
                            <strong>–ü—É—Ç—å –∫ Dota 2:</strong> <span id="dota2-path"></span><br>
                            <strong>CFG –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:</strong> <span id="dota2-cfg-path"></span><br>

                          </small>
                        </div>
                      </div>
                    </div>

                    <!-- –†–µ–¥–∞–∫—Ç–æ—Ä cfg -->
                    <div class="row" style="margin-top:20px;">
                      <div class="col-md-12">
                        <h6>–†–µ–¥–∞–∫—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤ cfg (project/cfg)</h6>
                        <div class="form-group" style="margin-bottom:8px;">
                          <label for="cfg-file-select">–§–∞–π–ª:</label>
                          <select id="cfg-file-select" class="form-control"></select>
                        </div>
                        <div class="form-group" style="margin-bottom:8px;">
                          <label for="cfg-editor">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:</label>
                          <textarea id="cfg-editor" class="form-control" rows="12" style="font-family: monospace;"></textarea>
                        </div>
                        <div class="btn-group" role="group">
                          <button id="cfg-load" class="btn btn-secondary">–û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞</button>
                          <button id="cfg-save" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- –°–µ–∫—Ü–∏—è –ö–∞–º–µ—Ä—ã -->
        <section id="cameras-section" class="content-section">
          <h2>–°–µ–ª–µ–∫—Ç–æ—Ä –∫–∞–º–µ—Ä—ã</h2>
          <div id="camera-players-list">
            <h3>–ö–æ–º–∞–Ω–¥–∞ CT</h3>
            <div class="camera-team-list">
              <div class="camera-player-row">
                <span class="camera-player-name">MisTraLook</span>
                <input ... />
                <button ...>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
              </div>
              <!-- ... -->
            </div>
            <h3>–ö–æ–º–∞–Ω–¥–∞ T</h3>
            <div class="camera-team-list">
              <div class="camera-player-row">
                <span class="camera-player-name">dS</span>
                <input ... />
                <button ...>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
              </div>
              <!-- ... -->
            </div>
          </div>
          <button id="refresh-cameras-btn">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤</button>
        </section>
      </main>
    </div>

    <script>
      // –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ –∏ –∞–≤–∞—Ç–∞—Ä–∫–∏
      document.addEventListener("DOMContentLoaded", function () {
        function initFileInputs() {
          // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞ –∫–æ–º–∞–Ω–¥—ã
          initFileInput(
            "team-logo",
            "logo-input-container",
            "team-logo-label",
            "–ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø",
            "team-logo-filename"
          );

          // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∫–∏ –∏–≥—Ä–æ–∫–∞
          initFileInput(
            "player-avatar",
            "avatar-input-container",
            "player-avatar-label",
            "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä",
            "player-avatar-filename"
          );
        }

        function initFileInput(
          inputId,
          containerId,
          labelId,
          defaultText,
          fileNameDisplayId
        ) {
          const input = document.getElementById(inputId);
          const container = document.getElementById(containerId);
          const label = document.getElementById(labelId);
          const fileNameDisplay = fileNameDisplayId ? document.getElementById(fileNameDisplayId) : null;

          if (input && container && label) {
            input.addEventListener("change", function () {
              if (this.files && this.files.length > 0) {
                const fileName = this.files[0].name;
                if (fileNameDisplay) fileNameDisplay.textContent = fileName;
                label.textContent = defaultText;
                container.classList.add("has-file");
                label.style.backgroundColor = "#007bff";
                label.style.color = "white";
              } else {
                label.textContent = defaultText;
                container.classList.remove("has-file");
                label.style.backgroundColor = "";
                label.style.color = "";
                if (fileNameDisplay) fileNameDisplay.textContent = "";
              }
            });
          }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Ñ–æ—Ä–º—ã —Ñ–∞–π–ª–∞
        function resetFileInput(inputId, containerId, labelId, defaultText, fileNameDisplayId) {
          const input = document.getElementById(inputId);
          const container = document.getElementById(containerId);
          const label = document.getElementById(labelId);
          const fileNameDisplay = fileNameDisplayId ? document.getElementById(fileNameDisplayId) : null;

          if (input) {
            input.value = "";
          }
          if (container) {
            container.classList.remove("has-file");
          }
          if (label) {
            label.textContent = defaultText;
            label.style.backgroundColor = "";
            label.style.color = "";
          }
          if (fileNameDisplay) fileNameDisplay.textContent = "";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
        function changeButtonToEdit(buttonId, newText) {
          const button = document.getElementById(buttonId);
          if (button) {
            button.textContent = newText;
            button.style.backgroundColor = "#007bff";
            button.style.borderColor = "#007bff";
          }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫–Ω–æ–ø–∫–∏ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
        function resetButtonToAdd(buttonId, originalText) {
          const button = document.getElementById(buttonId);
          if (button) {
            button.textContent = originalText;
            button.style.backgroundColor = "";
            button.style.borderColor = "";
          }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        initFileInputs();

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
        const teamForm = document.getElementById("team-form");
        if (teamForm) {
          teamForm.addEventListener("submit", function(e) {
            // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            setTimeout(() => {
              resetFileInput("team-logo", "logo-input-container", "team-logo-label", "–ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø", "team-logo-filename");
              resetButtonToAdd("add-team-btn", "–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É");
            }, 1000);
          });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
        const playerForm = document.getElementById("player-form");
        if (playerForm) {
          playerForm.addEventListener("submit", function(e) {
            // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            setTimeout(() => {
              resetFileInput("player-avatar", "avatar-input-container", "player-avatar-label", "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä", "player-avatar-filename");
              resetButtonToAdd("add-player-btn", "–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞");
            }, 1000);
          });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        const navButtons = document.querySelectorAll(".nav-button");
        if (navButtons) {
          navButtons.forEach((button) => {
            button.addEventListener("click", function () {
              // –î–∞–µ–º DOM –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–∫–∏
              setTimeout(initFileInputs, 200);
            });
          });
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ main.js
        window.changeButtonToEdit = changeButtonToEdit;
        window.resetButtonToAdd = resetButtonToAdd;

        // –ó–∞–ø—É—Å–∫ CS2 —á–µ—Ä–µ–∑ Steam protocol —Å +exec observer
        const launchBtn = document.getElementById("launch-cs2-observer");
        if (launchBtn) {
          launchBtn.addEventListener("click", async function () {
            try {
              const resp = await fetch('/api/launch-cs2-exec', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ configName: 'observer' })
              });
              const data = await resp.json().catch(() => ({}));
              if (resp.ok) {
                alert('CS2 –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å exec observer');
              } else {
                alert(`–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞: ${data.error || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`);
              }
            } catch (e) {
              alert('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –∑–∞–ø—É—Å–∫–∞ CS2');
            }
          });
        }

        // –ó–∞–ø—É—Å–∫ HLAE
        const launchHlaeBtn = document.getElementById('launch-hlae');
        if (launchHlaeBtn) {
          launchHlaeBtn.addEventListener('click', async function () {
            try {
              const resp = await fetch('/api/launch-hlae', { method: 'POST' });
              const data = await resp.json().catch(() => ({}));
              if (resp.ok) {
                alert('HLAE –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è');
              } else {
                alert(`–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ HLAE: ${data.error || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`);
              }
            } catch (e) {
              alert('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –∑–∞–ø—É—Å–∫–∞ HLAE');
            }
          });
        }

        // –ó–∞–ø—É—Å–∫ CS2 HLAE —Å -insecure
        const launchCs2HlaeInsecureBtn = document.getElementById('launch-cs2-hlae-insecure');
        if (launchCs2HlaeInsecureBtn) {
          launchCs2HlaeInsecureBtn.addEventListener('click', async function () {
            try {
              const resp = await fetch('/api/launch-cs2-hlae-insecure', { method: 'POST' });
              const data = await resp.json().catch(() => ({}));
              if (resp.ok) {
                alert('CS2 –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å HLAE –∏ -insecure');
              } else {
                alert(`–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ CS2 HLAE —Å -insecure: ${data.error || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`);
              }
            } catch (e) {
              alert('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –∑–∞–ø—É—Å–∫–∞ CS2 HLAE —Å -insecure');
            }
          });
        }

        // –†–µ–¥–∞–∫—Ç–æ—Ä cfg
        const cfgSelect = document.getElementById('cfg-file-select');
        const cfgEditor = document.getElementById('cfg-editor');
        const cfgLoadBtn = document.getElementById('cfg-load');
        const cfgSaveBtn = document.getElementById('cfg-save');

        async function loadCfgList() {
          try {
            const resp = await fetch('/api/cs2-config/list');
            const data = await resp.json();
            if (resp.ok && data.success) {
              cfgSelect.innerHTML = '';
              for (const f of data.files) {
                const opt = document.createElement('option');
                opt.value = f; opt.textContent = f;
                cfgSelect.appendChild(opt);
              }
            } else {
              alert(`–û—à–∏–±–∫–∞ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤: ${data.error || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`);
            }
          } catch (e) {
            alert('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤');
          }
        }

        async function loadCfg() {
          const name = cfgSelect.value;
          const url = new URL('/api/cs2-config', window.location.origin);
          url.searchParams.set('name', name);
          try {
            const resp = await fetch(url.toString());
            const data = await resp.json();
            if (resp.ok && data.success) {
              cfgEditor.value = data.content || '';
            } else {
              alert(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${data.error || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`);
            }
          } catch (e) {
            alert('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞');
          }
        }

        async function saveCfg() {
          const name = cfgSelect.value;
          const body = { name, content: cfgEditor.value };
          try {
            const resp = await fetch('/api/cs2-config', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(body)
            });
            const data = await resp.json().catch(() => ({}));
            if (resp.ok && data.success) {
              alert('–§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω');
            } else {
              alert(`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: ${data.error || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`);
            }
          } catch (e) {
            alert('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞');
          }
        }

        if (cfgLoadBtn) cfgLoadBtn.addEventListener('click', loadCfg);
        if (cfgSaveBtn) cfgSaveBtn.addEventListener('click', saveCfg);
        if (cfgSelect) cfgSelect.addEventListener('change', loadCfg);
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –ø–æ–¥—Ç—è–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ñ–∞–π–ª
        loadCfgList().then(() => {
          if (cfgSelect && cfgSelect.options.length > 0) {
            loadCfg();
          }
        });

        // Dota 2 CFG Integration
        const checkDota2CfgBtn = document.getElementById('check-dota2-cfg');
        const installDota2CfgBtn = document.getElementById('install-dota2-cfg');
        const dota2CfgStatus = document.getElementById('dota2-cfg-status');
        const dota2CfgStatusText = document.getElementById('dota2-cfg-status-text');
        const dota2CfgInfo = document.getElementById('dota2-cfg-info');
        const dota2Path = document.getElementById('dota2-path');
        const dota2CfgPath = document.getElementById('dota2-cfg-path');

        async function checkDota2CfgInstallation() {
          try {
            dota2CfgStatus.style.display = 'block';
            dota2CfgStatusText.textContent = '–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏...';
            dota2CfgStatus.className = 'alert alert-info';

            const response = await fetch('/api/dota2-cfg-check');
            const data = await response.json();

            if (data.installed) {
              dota2CfgStatusText.textContent = 'CFG —Ñ–∞–π–ª Dota 2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
              dota2CfgStatus.className = 'alert alert-success';
            } else {
              let statusText = data.error || 'CFG —Ñ–∞–π–ª Dota 2 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
              if (!data.gsiExists) statusText += ' (–ø–∞–ø–∫–∞ gamestate_integration –Ω–µ –Ω–∞–π–¥–µ–Ω–∞)';
              else if (!data.cfgExists) statusText += ' (—Ñ–∞–π–ª gamestate_integration_fhud_dota2.cfg –Ω–µ –Ω–∞–π–¥–µ–Ω)';
              
              dota2CfgStatusText.textContent = statusText;
              dota2CfgStatus.className = 'alert alert-warning';
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
            const detailsDiv = document.getElementById('dota2-cfg-details');
            const fileStatus = document.getElementById('dota2-cfg-file-status');

            if (detailsDiv) {
              detailsDiv.style.display = 'block';
              
              if (fileStatus) {
                if (data.cfgExists) {
                  fileStatus.textContent = '‚úì gamestate_integration_fhud_dota2.cfg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
                } else {
                  fileStatus.textContent = '‚úó gamestate_integration_fhud_dota2.cfg –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
                }
              }
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—É—Ç—è—Ö
            if (data.cfgPath) {
              dota2CfgInfo.style.display = 'block';
              dota2Path.textContent = data.cfgPath.replace(/\\game\\dota\\cfg$/, '') || '–ù–µ –Ω–∞–π–¥–µ–Ω';
              dota2CfgPath.textContent = data.cfgPath || '–ù–µ –Ω–∞–π–¥–µ–Ω';
            }

          } catch (error) {
            console.error('Error checking Dota 2 CFG:', error);
            dota2CfgStatusText.textContent = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏';
            dota2CfgStatus.className = 'alert alert-danger';
          }
        }

        async function installDota2Cfg() {
          try {
            dota2CfgStatus.style.display = 'block';
            dota2CfgStatusText.textContent = '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ CFG —Ñ–∞–π–ª–∞...';
            dota2CfgStatus.className = 'alert alert-info';

            const response = await fetch('/api/dota2-cfg-install', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              }
            });
            const data = await response.json();

            if (data.success) {
              dota2CfgStatusText.textContent = data.message || 'CFG —Ñ–∞–π–ª Dota 2 —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
              dota2CfgStatus.className = 'alert alert-success';
              // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
              setTimeout(() => {
                checkDota2CfgInstallation();
              }, 1000);
            } else {
              dota2CfgStatusText.textContent = data.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ CFG —Ñ–∞–π–ª–∞';
              dota2CfgStatus.className = 'alert alert-danger';
            }

          } catch (error) {
            console.error('Error installing Dota 2 CFG:', error);
            dota2CfgStatusText.textContent = '–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ CFG —Ñ–∞–π–ª–∞';
            dota2CfgStatus.className = 'alert alert-danger';
          }
        }

        async function removeDota2Cfg() {
          if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å CFG —Ñ–∞–π–ª Dota 2?')) {
            return;
          }
          
          try {
            dota2CfgStatus.style.display = 'block';
            dota2CfgStatusText.textContent = '–£–¥–∞–ª–µ–Ω–∏–µ CFG —Ñ–∞–π–ª–∞...';
            dota2CfgStatus.className = 'alert alert-info';

            const response = await fetch('/api/dota2-cfg-remove');
            const data = await response.json();

            if (data.success) {
              dota2CfgStatusText.textContent = data.message || 'CFG —Ñ–∞–π–ª Dota 2 —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω';
              dota2CfgStatus.className = 'alert alert-success';
              // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
              setTimeout(() => {
                checkDota2CfgInstallation();
              }, 1000);
            } else {
              dota2CfgStatusText.textContent = data.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ CFG —Ñ–∞–π–ª–∞';
              dota2CfgStatus.className = 'alert alert-danger';
            }

          } catch (error) {
            console.error('Error removing Dota 2 CFG:', error);
            dota2CfgStatusText.textContent = '–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ CFG —Ñ–∞–π–ª–∞';
            dota2CfgStatus.className = 'alert alert-danger';
          }
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        if (checkDota2CfgBtn) {
          checkDota2CfgBtn.addEventListener('click', checkDota2CfgInstallation);
        }
        if (installDota2CfgBtn) {
          installDota2CfgBtn.addEventListener('click', installDota2Cfg);
        }
        
        const removeDota2CfgBtn = document.getElementById('remove-dota2-cfg');
        if (removeDota2CfgBtn) {
          removeDota2CfgBtn.addEventListener('click', removeDota2Cfg);
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        checkDota2CfgInstallation();
      });
    </script>

    <!-- Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="/js/gsiManager.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/overlayManager.js"></script>
    <script src="/js/localization.js"></script>

    <script src="/js/version-check.js"></script>
  </body>
</html>
